package pl.klenczi.apitrainingpictures

import android.net.Uri
import android.util.Log
import org.json.JSONException
import java.io.ByteArrayInputStream
import java.io.ByteArrayOutputStream
import java.io.IOException
import java.net.URL
import javax.net.ssl.HttpsURLConnection

data class JsonDataClass(
    val photos: Photos,
    val stat: String
)

data class Photos(
    val page: Int,
    val pages: Int,
    val perpage: Int,
    val photo: List<Photo>,
    val total: Int
)

data class Photo(
    val farm: Int,
    val height_s: Int,
    val id: String,
    val isfamily: Int,
    val isfriend: Int,
    val ispublic: Int,
    val owner: String,
    val secret: String,
    val server: String,
    val title: String,
    val url_s: String,
    val width_s: Int
)

class Fetchr {
    var KEY_API: String = "a5d259dac89466ae123424b23958e6ae" // zmienna z apiKey

    fun getUrlBytes(urlSpec: String): ByteArray {
        val url = URL(urlSpec)
        val connection = url.openConnection() as HttpsURLConnection // ≈Çapanie po≈ÇƒÖczenia

        try{
            val out = ByteArrayOutputStream()
            val input = connection.inputStream

            if(connection.responseCode != HttpsURLConnection.HTTP_OK) { // sprawdzamy czy responseCode jest inny niz poprawny
            throw  IOException(connection.responseMessage) // jesli cos bedzie nie tak to wyrzuca wyjatek
            }

            var bytesRead: Int
            val buffer = ByteArray(size = 1024)
            do{
                bytesRead = input.read(buffer)
                out.write(buffer, 0, bytesRead)
            }while(input.read(buffer) > 0) // do p√≥ki mamy co zczytywaƒá
            out.close()
            return out.toByteArray()

        }catch(e: IOException){
            e.message?.let { Log.e("ERROR_HTTP_CONNECTION", it) }
            return ByteArray(0)
        }

        finally{
            connection.disconnect()
        }
    }
    
    fun getUrlString(urlSpec: String): String { // towrzy stringa z ByteArray
        return String(getUrlBytes(urlSpec))
    }
    
    fun getJsonString(): String{
        var jsonString = "COS POSZLO NIE TAK" // return gdy cos nie pyklo

        try{

            val url: String = Uri.parse("https://api.flickr.com/services/rest/")// tworzymy adres w zmiennej | core do kt√≥rego podpinamy inne parametry
                .buildUpon() // za pomocƒÖ tego dobudujemy dalsze ≈ºƒÖdanie
                .appendQueryParameter("method", "flickr.photos.getRecent") // ustawiamy metodƒô pozyskiwania zdjƒôcia
                .appendQueryParameter("api_key", KEY_API) // ustawiamy klucz api
                .appendQueryParameter("format", "json") // ustawiamy format
                .appendQueryParameter("nojsoncallback", "1")
                .appendQueryParameter("extras", "url_s")
                .build().toString() // przenosimy do formatu String

            jsonString = getUrlString(url)
            Log.d("HTTP_JSON", url)

            /*jsonString = """
                {
  "photos": {
    "page": 1,
    "pages": 10,
    "perpage": 100,
    "total": 1000,
    "photo": [
      {
        "id": "52856056912",
        "owner": "198003408@N04",
        "secret": "649697caac",
        "server": "65535",
        "farm": 66,
        "title": "2023-04-29_03-25-40",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856056912_649697caac_m.jpg",
        "height_s": 240,
        "width_s": 227
      },
      {
        "id": "52856057382",
        "owner": "135346163@N07",
        "secret": "9ff9effde8",
        "server": "65535",
        "farm": 66,
        "title": "",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856057382_9ff9effde8_m.jpg",
        "height_s": 159,
        "width_s": 240
      },
      {
        "id": "52856058922",
        "owner": "198225481@N04",
        "secret": "5b5310b859",
        "server": "65535",
        "farm": 66,
        "title": "IMG_20220925_171909",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856058922_5b5310b859_m.jpg",
        "height_s": 240,
        "width_s": 180
      },
      {
        "id": "52856059487",
        "owner": "33084301@N03",
        "secret": "e97fd260f0",
        "server": "65535",
        "farm": 66,
        "title": "The slow death of photography",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856059487_e97fd260f0_m.jpg",
        "height_s": 240,
        "width_s": 135
      },
      {
        "id": "52856059847",
        "owner": "147627067@N06",
        "secret": "d39edbce31",
        "server": "65535",
        "farm": 66,
        "title": "",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856059847_d39edbce31_m.jpg",
        "height_s": 113,
        "width_s": 240
      },
      {
        "id": "52856060782",
        "owner": "124710747@N08",
        "secret": "f0b0984655",
        "server": "65535",
        "farm": 66,
        "title": "und er ziehet dahin...",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856060782_f0b0984655_m.jpg",
        "height_s": 160,
        "width_s": 240
      },
      {
        "id": "52856061322",
        "owner": "64379921@N03",
        "secret": "73d6af1216",
        "server": "65535",
        "farm": 66,
        "title": "Happy Caturday",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856061322_73d6af1216_m.jpg",
        "height_s": 180,
        "width_s": 240
      },
      {
        "id": "52856062637",
        "owner": "194744407@N04",
        "secret": "a1a4a3afd8",
        "server": "65535",
        "farm": 66,
        "title": "",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856062637_a1a4a3afd8_m.jpg",
        "height_s": 240,
        "width_s": 180
      },
      {
        "id": "52856062822",
        "owner": "197286780@N02",
        "secret": "5516c54e2a",
        "server": "65535",
        "farm": 66,
        "title": "1682799349676",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856062822_5516c54e2a_m.jpg",
        "height_s": 240,
        "width_s": 204
      },
      {
        "id": "52856063427",
        "owner": "194471901@N04",
        "secret": "2dba1cf3f4",
        "server": "65535",
        "farm": 66,
        "title": "Roundshaw Downs Parkrun",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856063427_2dba1cf3f4_m.jpg",
        "height_s": 180,
        "width_s": 240
      },
      {
        "id": "52856065392",
        "owner": "144885570@N04",
        "secret": "56a3f64ab1",
        "server": "65535",
        "farm": 66,
        "title": "Canard colvert  juv√©nile / Anas platyrhynchos",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856065392_56a3f64ab1_m.jpg",
        "height_s": 149,
        "width_s": 240
      },
      {
        "id": "52856065877",
        "owner": "63018044@N02",
        "secret": "2f140159dc",
        "server": "65535",
        "farm": 66,
        "title": "Veere",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856065877_2f140159dc_m.jpg",
        "height_s": 135,
        "width_s": 240
      },
      {
        "id": "52856067627",
        "owner": "45867871@N05",
        "secret": "8bac325442",
        "server": "65535",
        "farm": 66,
        "title": "üá©üá∞  K√∏benhavn H - Central Station",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856067627_8bac325442_m.jpg",
        "height_s": 240,
        "width_s": 180
      },
      {
        "id": "52856068917",
        "owner": "35528657@N04",
        "secret": "9e14a4d7a7",
        "server": "65535",
        "farm": 66,
        "title": "",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856068917_9e14a4d7a7_m.jpg",
        "height_s": 180,
        "width_s": 240
      },
      {
        "id": "52856069512",
        "owner": "130487206@N06",
        "secret": "fc40a4db32",
        "server": "65535",
        "farm": 66,
        "title": "IMG_20230429_215935",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856069512_fc40a4db32_m.jpg",
        "height_s": 240,
        "width_s": 180
      },
      {
        "id": "52856069537",
        "owner": "144949435@N02",
        "secret": "42db1bd86b",
        "server": "65535",
        "farm": 66,
        "title": "Irish Rail 229, Hazelhatch & Celbridge, 25/3/23",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856069537_42db1bd86b_m.jpg",
        "height_s": 135,
        "width_s": 240
      },
      {
        "id": "52856070072",
        "owner": "76744044@N03",
        "secret": "3806d4a71b",
        "server": "65535",
        "farm": 66,
        "title": "snapshot",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856070072_3806d4a71b_m.jpg",
        "height_s": 180,
        "width_s": 240
      },
      {
        "id": "52856071422",
        "owner": "77009411@N00",
        "secret": "eb80354840",
        "server": "65535",
        "farm": 66,
        "title": "Japan 2023 - Day Eleven",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856071422_eb80354840_m.jpg",
        "height_s": 240,
        "width_s": 180
      },
      {
        "id": "52856071612",
        "owner": "198111402@N07",
        "secret": "e553861412",
        "server": "65535",
        "farm": 66,
        "title": "Oii üçÄüíö",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856071612_e553861412_m.jpg",
        "height_s": 240,
        "width_s": 192
      },
      {
        "id": "52856072637",
        "owner": "192985693@N05",
        "secret": "1d8e44ebcb",
        "server": "65535",
        "farm": 66,
        "title": "Play - Airbus A321-200N - TF-PLA @LEBL",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856072637_1d8e44ebcb_m.jpg",
        "height_s": 160,
        "width_s": 240
      },
      {
        "id": "52856072977",
        "owner": "146542030@N02",
        "secret": "3ed49dffaf",
        "server": "65535",
        "farm": 66,
        "title": "–í–µ—Ä–∞ –í–∞–Ω–∏–Ω–∞",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856072977_3ed49dffaf_m.jpg",
        "height_s": 135,
        "width_s": 240
      },
      {
        "id": "52856073217",
        "owner": "24553688@N07",
        "secret": "da3ec03c6e",
        "server": "65535",
        "farm": 66,
        "title": "2023-04-29_05-30-15",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856073217_da3ec03c6e_m.jpg",
        "height_s": 160,
        "width_s": 240
      },
      {
        "id": "52856073487",
        "owner": "50621170@N07",
        "secret": "ac90cdddbe",
        "server": "65535",
        "farm": 66,
        "title": "",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856073487_ac90cdddbe_m.jpg",
        "height_s": 240,
        "width_s": 180
      },
      {
        "id": "52856642921",
        "owner": "133393637@N02",
        "secret": "22f89db3af",
        "server": "65535",
        "farm": 66,
        "title": "Red",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856642921_22f89db3af_m.jpg",
        "height_s": 159,
        "width_s": 240
      },
      {
        "id": "52856643916",
        "owner": "187113622@N05",
        "secret": "375439cf85",
        "server": "65535",
        "farm": 66,
        "title": "RR Media  E: rrphotomedia@gmail.com  W: https://www.wsimages.com",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856643916_375439cf85_m.jpg",
        "height_s": 160,
        "width_s": 240
      },
      {
        "id": "52856644541",
        "owner": "192041066@N08",
        "secret": "58cdf51822",
        "server": "65535",
        "farm": 66,
        "title": "Aircraft carrier",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856644541_58cdf51822_m.jpg",
        "height_s": 160,
        "width_s": 240
      },
      {
        "id": "52856645041",
        "owner": "16051663@N07",
        "secret": "3e4d2f262e",
        "server": "65535",
        "farm": 66,
        "title": "Florida Nature Centres-1.jpg",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856645041_3e4d2f262e_m.jpg",
        "height_s": 190,
        "width_s": 240
      },
      {
        "id": "52856647071",
        "owner": "49702053@N00",
        "secret": "3455d9e7f4",
        "server": "65535",
        "farm": 66,
        "title": "",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856647071_3455d9e7f4_m.jpg",
        "height_s": 240,
        "width_s": 180
      },
      {
        "id": "52856653131",
        "owner": "70084019@N06",
        "secret": "1240ff95c2",
        "server": "65535",
        "farm": 66,
        "title": "",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856653131_1240ff95c2_m.jpg",
        "height_s": 240,
        "width_s": 180
      },
      {
        "id": "52856653536",
        "owner": "184628480@N04",
        "secret": "4e420f796d",
        "server": "65535",
        "farm": 66,
        "title": "Great Blue Heron",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856653536_4e420f796d_m.jpg",
        "height_s": 240,
        "width_s": 159
      },
      {
        "id": "52856654151",
        "owner": "80658772@N00",
        "secret": "efb501678d",
        "server": "65535",
        "farm": 66,
        "title": "",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856654151_efb501678d_m.jpg",
        "height_s": 180,
        "width_s": 240
      },
      {
        "id": "52856654241",
        "owner": "48797107@N04",
        "secret": "5755778f40",
        "server": "65535",
        "farm": 66,
        "title": "Ryan Burke with supporters",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856654241_5755778f40_m.jpg",
        "height_s": 150,
        "width_s": 240
      },
      {
        "id": "52856654296",
        "owner": "34428455@N02",
        "secret": "528c55a030",
        "server": "65535",
        "farm": 66,
        "title": "Santo Domingo, April 2023",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856654296_528c55a030_m.jpg",
        "height_s": 180,
        "width_s": 240
      },
      {
        "id": "52856657306",
        "owner": "198216359@N04",
        "secret": "abea56492f",
        "server": "65535",
        "farm": 66,
        "title": "",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856657306_abea56492f_m.jpg",
        "height_s": 240,
        "width_s": 135
      },
      {
        "id": "52856658711",
        "owner": "86537757@N00",
        "secret": "e52c59926f",
        "server": "65535",
        "farm": 66,
        "title": "Mount Airy Ace Hardware Social Media Post Collage",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856658711_e52c59926f_m.jpg",
        "height_s": 131,
        "width_s": 240
      },
      {
        "id": "52856658936",
        "owner": "42718982@N00",
        "secret": "6e6cd2388b",
        "server": "65535",
        "farm": 66,
        "title": "20230408_101347",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856658936_6e6cd2388b_m.jpg",
        "height_s": 135,
        "width_s": 240
      },
      {
        "id": "52856659051",
        "owner": "91709304@N03",
        "secret": "314a5f72a0",
        "server": "65535",
        "farm": 66,
        "title": "Lynde Point Lighthouse  Ct .",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856659051_314a5f72a0_m.jpg",
        "height_s": 240,
        "width_s": 180
      },
      {
        "id": "52856659206",
        "owner": "198200408@N02",
        "secret": "68d024255c",
        "server": "65535",
        "farm": 66,
        "title": "burlington discover jazz festival",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856659206_68d024255c_m.jpg",
        "height_s": 240,
        "width_s": 240
      },
      {
        "id": "52856659666",
        "owner": "196415616@N02",
        "secret": "90e995c11f",
        "server": "65535",
        "farm": 66,
        "title": "",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856659666_90e995c11f_m.jpg",
        "height_s": 240,
        "width_s": 180
      },
      {
        "id": "52856659726",
        "owner": "188259458@N05",
        "secret": "435c328410",
        "server": "65535",
        "farm": 66,
        "title": "Clifford's Tricks",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856659726_435c328410_m.jpg",
        "height_s": 240,
        "width_s": 235
      },
      {
        "id": "52856660066",
        "owner": "192619006@N07",
        "secret": "b397d9fbde",
        "server": "65535",
        "farm": 66,
        "title": "Upload-128.JPG",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856660066_b397d9fbde_m.jpg",
        "height_s": 160,
        "width_s": 240
      },
      {
        "id": "52856810669",
        "owner": "186857551@N03",
        "secret": "72dd363b3a",
        "server": "65535",
        "farm": 66,
        "title": "Ciudad de las artes y las ciencias Valencia.",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856810669_72dd363b3a_m.jpg",
        "height_s": 163,
        "width_s": 240
      },
      {
        "id": "52856812789",
        "owner": "7364400@N04",
        "secret": "3018eaf1d5",
        "server": "65535",
        "farm": 66,
        "title": "Œ†ŒøœÅœÑŒ±œÅŒπŒ¨, ¬´Œ§Œø ŒúŒøŒΩŒøœÄŒ¨œÑŒπ œÑœâŒΩ ŒöŒµŒΩœÑŒ±œçœÅœâŒΩ¬ª.",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856812789_3018eaf1d5_m.jpg",
        "height_s": 160,
        "width_s": 240
      },
      {
        "id": "52856813389",
        "owner": "197859780@N08",
        "secret": "6ebed89840",
        "server": "65535",
        "farm": 66,
        "title": "Stairway",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856813389_6ebed89840_m.jpg",
        "height_s": 240,
        "width_s": 197
      },
      {
        "id": "52856814624",
        "owner": "125565577@N04",
        "secret": "f44390fbd4",
        "server": "65535",
        "farm": 66,
        "title": "Upper Mississippi River in MInnesota in late April 2023",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856814624_f44390fbd4_m.jpg",
        "height_s": 147,
        "width_s": 240
      },
      {
        "id": "52856815799",
        "owner": "57159837@N03",
        "secret": "6f22ef4c16",
        "server": "65535",
        "farm": 66,
        "title": "Maxxi",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856815799_6f22ef4c16_m.jpg",
        "height_s": 160,
        "width_s": 240
      },
      {
        "id": "52856818549",
        "owner": "197491436@N06",
        "secret": "0f87d21f83",
        "server": "65535",
        "farm": 66,
        "title": "4/29",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856818549_0f87d21f83_m.jpg",
        "height_s": 240,
        "width_s": 180
      },
      {
        "id": "52856818799",
        "owner": "126071761@N06",
        "secret": "ea2a282bb2",
        "server": "65535",
        "farm": 66,
        "title": "DSC_6318",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856818799_ea2a282bb2_m.jpg",
        "height_s": 160,
        "width_s": 240
      },
      {
        "id": "52856820129",
        "owner": "149567335@N07",
        "secret": "3c3b782100",
        "server": "65535",
        "farm": 66,
        "title": "E-2023-04-30-0530_f",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856820129_3c3b782100_m.jpg",
        "height_s": 240,
        "width_s": 240
      },
      {
        "id": "52856820229",
        "owner": "97102756@N07",
        "secret": "f0da667504",
        "server": "65535",
        "farm": 66,
        "title": "E-2023-04-30-0530_f",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856820229_f0da667504_m.jpg",
        "height_s": 240,
        "width_s": 240
      },
      {
        "id": "52856822579",
        "owner": "190624395@N04",
        "secret": "f1f21244d5",
        "server": "65535",
        "farm": 66,
        "title": "League tournament vs #1 seed",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856822579_f1f21244d5_m.jpg",
        "height_s": 160,
        "width_s": 240
      },
      {
        "id": "52856822834",
        "owner": "33781168@N07",
        "secret": "d87144312e",
        "server": "65535",
        "farm": 66,
        "title": "Paris",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856822834_d87144312e_m.jpg",
        "height_s": 240,
        "width_s": 180
      },
      {
        "id": "52856823539",
        "owner": "41128927@N07",
        "secret": "b4c3acde3c",
        "server": "65535",
        "farm": 66,
        "title": "Former textile factory",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856823539_b4c3acde3c_m.jpg",
        "height_s": 160,
        "width_s": 240
      },
      {
        "id": "52856823659",
        "owner": "50743221@N06",
        "secret": "3c2e49761b",
        "server": "65535",
        "farm": 66,
        "title": "2023 Covenant Banquet",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856823659_3c2e49761b_m.jpg",
        "height_s": 180,
        "width_s": 240
      },
      {
        "id": "52856824159",
        "owner": "189044873@N06",
        "secret": "5c6453b417",
        "server": "65535",
        "farm": 66,
        "title": "",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856824159_5c6453b417_m.jpg",
        "height_s": 240,
        "width_s": 180
      },
      {
        "id": "52856825039",
        "owner": "55810237@N08",
        "secret": "ac9e86f36e",
        "server": "65535",
        "farm": 66,
        "title": "",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856825039_ac9e86f36e_m.jpg",
        "height_s": 240,
        "width_s": 180
      },
      {
        "id": "52856825274",
        "owner": "198084680@N03",
        "secret": "567980efb3",
        "server": "65535",
        "farm": 66,
        "title": "20230429120616_IMG_2399",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856825274_567980efb3_m.jpg",
        "height_s": 160,
        "width_s": 240
      },
      {
        "id": "52856825429",
        "owner": "52027561@N00",
        "secret": "469ef1183f",
        "server": "65535",
        "farm": 66,
        "title": "2023-04-09_164950_WTA_Mavic 3",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856825429_469ef1183f_m.jpg",
        "height_s": 180,
        "width_s": 240
      },
      {
        "id": "52856826034",
        "owner": "129711811@N05",
        "secret": "fbd236ba2a",
        "server": "65535",
        "farm": 66,
        "title": "Spring into Zin! #mgbgt #jaguarxkr",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856826034_fbd236ba2a_m.jpg",
        "height_s": 198,
        "width_s": 240
      },
      {
        "id": "52856826294",
        "owner": "143877093@N05",
        "secret": "e08044f25f",
        "server": "65535",
        "farm": 66,
        "title": "IMG_0245.jpg",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856826294_e08044f25f_m.jpg",
        "height_s": 240,
        "width_s": 180
      },
      {
        "id": "52856826614",
        "owner": "198188319@N07",
        "secret": "24b9a8f4cc",
        "server": "65535",
        "farm": 66,
        "title": "Overgeared-96-(2)",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52856826614_24b9a8f4cc_m.jpg",
        "height_s": 240,
        "width_s": 15
      },
      {
        "id": "52857030050",
        "owner": "194092247@N04",
        "secret": "c4c35e9c11",
        "server": "65535",
        "farm": 66,
        "title": "Street artist",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52857030050_c4c35e9c11_m.jpg",
        "height_s": 240,
        "width_s": 160
      },
      {
        "id": "52857030340",
        "owner": "142580997@N07",
        "secret": "ec39725ebe",
        "server": "65535",
        "farm": 66,
        "title": "Wales",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52857030340_ec39725ebe_m.jpg",
        "height_s": 180,
        "width_s": 240
      },
      {
        "id": "52857031400",
        "owner": "111792435@N04",
        "secret": "d23975e68a",
        "server": "65535",
        "farm": 66,
        "title": "SV Schwandorf Ettmannsdorf - 1. FC Bad K√∂tzting",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52857031400_d23975e68a_m.jpg",
        "height_s": 160,
        "width_s": 240
      },
      {
        "id": "52857034625",
        "owner": "197770214@N02",
        "secret": "e8f31b53c6",
        "server": "65535",
        "farm": 66,
        "title": "Caf√©.",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52857034625_e8f31b53c6_m.jpg",
        "height_s": 240,
        "width_s": 160
      },
      {
        "id": "52857034865",
        "owner": "65059720@N06",
        "secret": "e13dc5d1b0",
        "server": "65535",
        "farm": 66,
        "title": "Sch√∂ne Aussicht",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52857034865_e13dc5d1b0_m.jpg",
        "height_s": 180,
        "width_s": 240
      },
      {
        "id": "52857035370",
        "owner": "186745998@N06",
        "secret": "396c21ba5d",
        "server": "65535",
        "farm": 66,
        "title": "64 0910-1 RO-SNTFC",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52857035370_396c21ba5d_m.jpg",
        "height_s": 159,
        "width_s": 240
      },
      {
        "id": "52857037630",
        "owner": "198278233@N08",
        "secret": "9878bc35b7",
        "server": "65535",
        "farm": 66,
        "title": "",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52857037630_9878bc35b7_m.jpg",
        "height_s": 240,
        "width_s": 180
      },
      {
        "id": "52857039755",
        "owner": "29958880@N00",
        "secret": "52cce65dee",
        "server": "65535",
        "farm": 66,
        "title": "",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52857039755_52cce65dee_m.jpg",
        "height_s": 240,
        "width_s": 180
      },
      {
        "id": "52857040090",
        "owner": "47649083@N03",
        "secret": "c0d5a33f16",
        "server": "65535",
        "farm": 66,
        "title": "",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52857040090_c0d5a33f16_m.jpg",
        "height_s": 180,
        "width_s": 240
      },
      {
        "id": "52857040150",
        "owner": "198267137@N08",
        "secret": "da0bde8aef",
        "server": "65535",
        "farm": 66,
        "title": "Landscape",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52857040150_da0bde8aef_m.jpg",
        "height_s": 129,
        "width_s": 240
      },
      {
        "id": "52857040595",
        "owner": "47383321@N07",
        "secret": "233672e5c3",
        "server": "65535",
        "farm": 66,
        "title": "",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52857040595_233672e5c3_m.jpg",
        "height_s": 240,
        "width_s": 160
      },
      {
        "id": "52857040635",
        "owner": "23852804@N07",
        "secret": "b954d2dba3",
        "server": "65535",
        "farm": 66,
        "title": "",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52857040635_b954d2dba3_m.jpg",
        "height_s": 160,
        "width_s": 240
      },
      {
        "id": "52857041910",
        "owner": "185261077@N05",
        "secret": "9a135a0fb7",
        "server": "65535",
        "farm": 66,
        "title": "Colibr√≠ Alizafiro",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52857041910_9a135a0fb7_m.jpg",
        "height_s": 240,
        "width_s": 199
      },
      {
        "id": "52857041915",
        "owner": "195345667@N07",
        "secret": "a108c5c058",
        "server": "65535",
        "farm": 66,
        "title": "Tranquility",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52857041915_a108c5c058_m.jpg",
        "height_s": 237,
        "width_s": 240
      },
      {
        "id": "52857042240",
        "owner": "183871373@N06",
        "secret": "89eb2a8f56",
        "server": "65535",
        "farm": 66,
        "title": "Nice tidy R650 ,SCANIA V8 ,6x2 unit low loader ,from Somerset -JCB‚Äôs load .I took this yesterday-junction 9 ,M1 .",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52857042240_89eb2a8f56_m.jpg",
        "height_s": 180,
        "width_s": 240
      },
      {
        "id": "52857042995",
        "owner": "86617138@N00",
        "secret": "705f2cd7be",
        "server": "65535",
        "farm": 66,
        "title": "2023-04-29_11-31-17",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52857042995_705f2cd7be_m.jpg",
        "height_s": 143,
        "width_s": 240
      },
      {
        "id": "52857045405",
        "owner": "69151693@N00",
        "secret": "1033685132",
        "server": "65535",
        "farm": 66,
        "title": "Saturday",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52857045405_1033685132_m.jpg",
        "height_s": 180,
        "width_s": 240
      },
      {
        "id": "52857046720",
        "owner": "15614078@N06",
        "secret": "b63e21b43d",
        "server": "65535",
        "farm": 66,
        "title": "",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52857046720_b63e21b43d_m.jpg",
        "height_s": 180,
        "width_s": 240
      },
      {
        "id": "52857046810",
        "owner": "100471659@N04",
        "secret": "782f3e7a25",
        "server": "65535",
        "farm": 66,
        "title": "2023-04-29_10-32-49",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52857046810_782f3e7a25_m.jpg",
        "height_s": 201,
        "width_s": 240
      },
      {
        "id": "52857082113",
        "owner": "13223305@N07",
        "secret": "0d3cf205fe",
        "server": "65535",
        "farm": 66,
        "title": "Day 2820. The process of daily rose painting for today.",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52857082113_0d3cf205fe_m.jpg",
        "height_s": 240,
        "width_s": 240
      },
      {
        "id": "52857083698",
        "owner": "194014304@N02",
        "secret": "e81408c2ae",
        "server": "65535",
        "farm": 66,
        "title": "",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52857083698_e81408c2ae_m.jpg",
        "height_s": 160,
        "width_s": 240
      },
      {
        "id": "52857085308",
        "owner": "56205589@N00",
        "secret": "bc07897993",
        "server": "65535",
        "farm": 66,
        "title": "Oh happy day üòç",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52857085308_bc07897993_m.jpg",
        "height_s": 240,
        "width_s": 240
      },
      {
        "id": "52857085333",
        "owner": "198174114@N05",
        "secret": "6a658c1192",
        "server": "65535",
        "farm": 66,
        "title": "",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52857085333_6a658c1192_m.jpg",
        "height_s": 240,
        "width_s": 180
      },
      {
        "id": "52857085588",
        "owner": "142162098@N06",
        "secret": "d0255d3b9d",
        "server": "65535",
        "farm": 66,
        "title": "113-2575 The season for planting",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52857085588_d0255d3b9d_m.jpg",
        "height_s": 240,
        "width_s": 180
      },
      {
        "id": "52857086198",
        "owner": "153555502@N05",
        "secret": "ca38e9f82b",
        "server": "65535",
        "farm": 66,
        "title": "Chris Killip",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52857086198_ca38e9f82b_m.jpg",
        "height_s": 240,
        "width_s": 225
      },
      {
        "id": "52857086648",
        "owner": "197441026@N05",
        "secret": "2df8a33e28",
        "server": "65535",
        "farm": 66,
        "title": "2023-04-29_10-27-57",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52857086648_2df8a33e28_m.jpg",
        "height_s": 240,
        "width_s": 192
      },
      {
        "id": "52857088718",
        "owner": "80454089@N00",
        "secret": "5f9a35fe1b",
        "server": "65535",
        "farm": 66,
        "title": "Mongkol The Bull Rescue Elephant Is Almost Blind",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52857088718_5f9a35fe1b_m.jpg",
        "height_s": 240,
        "width_s": 198
      },
      {
        "id": "52857090968",
        "owner": "197600133@N07",
        "secret": "4715eb2dfc",
        "server": "65535",
        "farm": 66,
        "title": "White Breasted Nuthatch",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52857090968_4715eb2dfc_m.jpg",
        "height_s": 240,
        "width_s": 240
      },
      {
        "id": "52857091068",
        "owner": "18468370@N00",
        "secret": "9378668f3c",
        "server": "65535",
        "farm": 66,
        "title": "Malbork castle",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52857091068_9378668f3c_m.jpg",
        "height_s": 160,
        "width_s": 240
      },
      {
        "id": "52857092538",
        "owner": "185288333@N07",
        "secret": "d9974117f1",
        "server": "65535",
        "farm": 66,
        "title": "E-2023-04-30-0530_f",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52857092538_d9974117f1_m.jpg",
        "height_s": 240,
        "width_s": 240
      },
      {
        "id": "52857093763",
        "owner": "189062581@N08",
        "secret": "711fce7c25",
        "server": "65535",
        "farm": 66,
        "title": "Flare.jpg",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52857093763_711fce7c25_m.jpg",
        "height_s": 240,
        "width_s": 240
      },
      {
        "id": "52857093938",
        "owner": "34157745@N00",
        "secret": "1f52420fa7",
        "server": "65535",
        "farm": 66,
        "title": "Year 2023, Day 119. Monogram.",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52857093938_1f52420fa7_m.jpg",
        "height_s": 159,
        "width_s": 240
      },
      {
        "id": "52857094263",
        "owner": "65243743@N03",
        "secret": "9dc81b17da",
        "server": "65535",
        "farm": 66,
        "title": "O CR√âDITO DA FOTO √â OBRIGAT√ìRIO: Arthur Barreto/Botafogo",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52857094263_9dc81b17da_m.jpg",
        "height_s": 240,
        "width_s": 188
      },
      {
        "id": "52857095283",
        "owner": "27309894@N02",
        "secret": "4a04088054",
        "server": "65535",
        "farm": 66,
        "title": "",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52857095283_4a04088054_m.jpg",
        "height_s": 240,
        "width_s": 180
      },
      {
        "id": "52857095833",
        "owner": "52875715@N03",
        "secret": "ba7f4d54c5",
        "server": "65535",
        "farm": 66,
        "title": "Melbourne",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52857095833_ba7f4d54c5_m.jpg",
        "height_s": 240,
        "width_s": 143
      },
      {
        "id": "52857096638",
        "owner": "16817853@N00",
        "secret": "af3882b81f",
        "server": "65535",
        "farm": 66,
        "title": "2023-04-29_09-31-52",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52857096638_af3882b81f_m.jpg",
        "height_s": 165,
        "width_s": 240
      },
      {
        "id": "52857097333",
        "owner": "145089568@N02",
        "secret": "c6f03366b9",
        "server": "65535",
        "farm": 66,
        "title": "2023-04-29_10-32-15",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52857097333_c6f03366b9_m.jpg",
        "height_s": 240,
        "width_s": 239
      },
      {
        "id": "52857098313",
        "owner": "12639178@N07",
        "secret": "64fb20acc0",
        "server": "65535",
        "farm": 66,
        "title": "Papierfischchen (Ctenolepisma longicaudata)",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52857098313_64fb20acc0_m.jpg",
        "height_s": 154,
        "width_s": 240
      },
      {
        "id": "52857098348",
        "owner": "192919637@N02",
        "secret": "d11d9a313e",
        "server": "65535",
        "farm": 66,
        "title": "",
        "ispublic": 1,
        "isfriend": 0,
        "isfamily": 0,
        "url_s": "https://live.staticflickr.com/65535/52857098348_d11d9a313e_m.jpg",
        "height_s": 240,
        "width_s": 108
      }
    ]
  },
  "stat": "ok"
}
            """*/

        }catch(je: JSONException){
            je.message?.let { Log.e("JSON_ERROR", it) }
        }
        return jsonString
    }
}